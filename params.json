{"name":"Saxy","tagline":"Memory-efficient XML parser. Finds object definitions in XML and translates them into Ruby objects.","body":"# Saxy\r\n\r\n[![Gem Version](https://badge.fury.io/rb/saxy.svg)](https://badge.fury.io/rb/saxy)\r\n[![Build Status](https://api.travis-ci.org/monterail/saxy.svg)](http://travis-ci.org/monterail/saxy)\r\n\r\nMemory-efficient XML parser. Finds object definitions in XML and translates them into Ruby objects.\r\n\r\nIt uses SAX parser under the hood, which means that it doesn't load the whole XML file into memory. It goes once through it and yields objects along the way. \r\n\r\nIn result the memory footprint of the parser remains small and more or less constant irrespective of the size of the XML file, be it few KB or hundreds of GB.\r\n\r\n## Installation\r\n\r\nAdd this line to your application's Gemfile:\r\n\r\n    gem 'saxy'\r\n\r\nAnd then execute:\r\n\r\n    $ bundle\r\n\r\nOr install it yourself as:\r\n\r\n    $ gem install saxy\r\n\r\nAs of `0.5.0` version `saxy` requires ruby 1.9.3 or higher. Previous versions of the gem work with ruby 1.8 and 1.9.2 (see below), but they are not maintained anymore.\r\n\r\n## Ruby 1.8 support\r\n\r\nSee `ruby-1.8` branch. Install with:\r\n\r\n    gem 'saxy', '~> 0.3.0'\r\n\r\n## Ruby 1.9.2 support\r\n\r\nSee `ruby-1.9.2` branch. Install with:\r\n\r\n    gem 'saxy', '~> 0.4.0'\r\n\r\n\r\n## Usage\r\n\r\nAssume the XML file:\r\n\r\n````xml\r\n<?xml version='1.0' encoding='UTF-8'?>\r\n<webstore>\r\n  <name>Amazon</name>\r\n  <products>\r\n    <product>\r\n      <name>Kindle - The world's best-selling e-reader.</name>\r\n      <images>\r\n        <thumbSize width=\"80\" height=\"60\">http://amazon.com/kindle_thumb.jpg</thumbSize>\r\n      </images>\r\n    </product>\r\n    <product>\r\n      <name>Kindle Touch - Simple-to-use touchscreen with built-in WIFI.</name>\r\n      <images>\r\n        <thumbSize width=\"120\" height=\"90\">http://amazon.com/kindle_touch_thumb.jpg</thumbSize>\r\n      </images>\r\n    </product>\r\n  </products>\r\n</webstore>\r\n````\r\n\r\nYou instantiate the parser by passing path to XML file or an IO-like object and object-identyfing tag name as its arguments.\r\n\r\nThe following will parse the XML, find product definitions (inside `<product>` and `</product>` tags), build `Hash`es and yield them inside the block. \r\n\r\nUsage with a file path:\r\n\r\n````ruby\r\nSaxy.parse(\"filename.xml\", \"product\").each do |product|\r\n  puts product[:name]\r\n  puts product[:images][:thumb_size][:contents]\r\n  puts \"#{product[:images][:thumb_size][:width]}x#{product[:images][:thumb_size][:height]}\"\r\nend\r\n\r\n# =>\r\n\"Kindle - The world's best-selling e-reader.\"\r\n\"http://amazon.com/kindle_thumb.jpg\"\r\n\"80x60\"\r\n\"Kindle Touch - Simple-to-use touchscreen with built-in WIFI.\"\r\n\"http://amazon.com/kindle_touch_thumb.jpg\"\r\n\"120x90\"\r\n````\r\n\r\nUsage with an IO-like object `ARGF`:\r\n\r\n````ruby\r\n# > cat filename.xml | ruby this_script.rb\r\nSaxy.parse(ARGF, \"product\").each do |product|\r\n  puts product.name\r\nend\r\n\r\n# =>\r\n\"Kindle - The world's best-selling e-reader.\"\r\n````\r\n\r\nSaxy supports Enumerable, so you can use its goodies to your comfort without building intermediate arrays:\r\n\r\n````ruby\r\nSaxy.parse(\"filename.xml\", \"product\").map do |object|\r\n  # map yielded Hash to ActiveRecord instances, etc.\r\nend\r\n````\r\n\r\nYou can also grab an Enumerator for external use (e.g. lazy evaluation, etc.):\r\n\r\n````ruby\r\nenumerator = Saxy.parse(\"filename.xml\", \"product\").each\r\nlazy       = Saxy.parse(\"filename.xml\", \"product\").lazy # Ruby 2.0\r\n````\r\n\r\nMultiple definitions of child objects are grouped in arrays:\r\n\r\n````ruby\r\nwebstore = Saxy.parse(\"filename.xml\", \"webstore\").first\r\nwebstore[:products][:product].size # => 2\r\n````\r\n\r\n## Contributing\r\n\r\n1. Fork it\r\n2. Create your feature branch (`git checkout -b my-new-feature`)\r\n3. Commit your changes (`git commit -am 'Added some feature'`)\r\n4. Push to the branch (`git push origin my-new-feature`)\r\n5. Create new Pull Request\r\n","google":"UA-38889851-1","note":"Don't delete this file! It's used internally to help with page regeneration."}